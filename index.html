<!--
  _____      _                      _       
 |  __ \    (_)                    (_)      
 | |__) | __ _ _ __ ___   ___  _ __ _  __ _ 
 |  ___/ '__| | '_ ` _ \ / _ \| '__| |/ _` |
 | |   | |  | | | | | | | (_) | |  | | (_| |
 |_|   |_|  |_|_| |_| |_|\___/|_|  |_|\__,_|
        ______                              
       |  ____|                             
       | |__  ___   _ __   ___  __  __      
       |  __ / _ \ | '__  / _ \ \ \/ /      
       | |  |  __/ | |   | (_) | >  <       
       |_|   \___  |_|    \___/ /_/\_\      
      Copyright©  Kashumy Krystian 2024     
-->
<!DOCTYPE html>
<html lang="pl" ondblclick="document.querySelector('html').requestFullscreen()">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
 
  <style id="styles">
:root{
	--width-o: 100%; --height-o:100%;
}
  </style>
<style>
html {
    font-family: sans-serif;
}
button{
	background: #2C2C32; color:#D2D2D2;
	border:none; outline:none;
}
select{
	background: #2C2C32; color:#D2D2D2;
	border:none; outline:none;
}
html {
    position:fixed; width:100%; height: 100%; overflow: hidden;
    user-select: none;
}
::-webkit-scrollbar {
    width: 5px; 
    background-color: rgba(0, 0, 0, 0.3); 
    height:5px;
}
::-webkit-scrollbar-track {
  background-color: #00000000; 
}
::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.15); 
}
 
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color:  #FFFFFF ;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999; 
        }
        .logo {
            display: none;
            animation: fadeIn 0.4s forwards; 
        }
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
@keyframes rainbow {
            0% {
                filter: hue-rotate(0deg);
            }
            100% {
                filter: hue-rotate(180deg);
            }
        }
        @keyframes slidebg {
            0% {
                background-position: 0% 0;
            }
            100% {
                background-position: 100% 0;
            }
        }
       @keyframes slidebg2 {
            0% {
                background-position: 0% 0;
            }
            100% {
                background-position: 600px 0;
            }
        }
        #MainMenu{
          position: absolute;
          z-index: 999;
          width:100%;
          height:100%;
          background: url('./skybg.png');
          background-size: 100% 100%;
        }
        #bg1_1 {
          position: absolute;
          width: 100%;
          height: 200px;
          bottom: 0;
          image-rendering: pixelated; 
          background: url('./pfbg.png');
          background-size: 300px 200px ;
          background-repeat: repeat-x;
          animation: 30s slidebg infinite linear;
        } 
         #bg1_2 {
          position: absolute;
          width: 100%;
          height: 180px;
          bottom: 20px;
          image-rendering: pixelated;
          background: url('./pfbg2.png');
          background-size: 280px 180px;
          background-repeat: repeat-x;
          filter: brightness(0.8);
        }
         .bg2_2 {
          position: absolute;
          width: 100px;
          height: 80px;
          top: 30vh;
          image-rendering: pixelated;
          background: url('./cloud2.png');
          background-size: 100% 100%;
        }
          .bg0_0 {
           position: absolute;
           width: 100px;
           height: 80px;
           top: 30vh;
           image-rendering: pixelated;
           background: url('./cloud2.png');
           background-size: 100% 100%;
         }
        .bg2_3 {
           position: absolute;
           width: 100px;
           height: 80px;
           top: 30vh;
           image-rendering: pixelated;
           background: url('./cloud.png');
           background-size: 100% 100%;
         }
       .bg3_3 {
          position: absolute;
          width: 250px;
          height: 200px;
          top: 20px;
          left: 50%;
          image-rendering: pixelated;
          background: url('./gamename.png');
          background-size: 100% 100%;
          transform: translate(-50%,0);
        }
#splashText {
    position: absolute;
    height: 200px;
    top: 58px;
    left: 50%;
    color: #000000;
    animation: scaling 5s linear infinite;
    transform: translate(-50%, 0);
    font-size:8px;
    font-family: "pffont";
    white-space: pre-wrap;
}
@keyframes scaling {
    0% {
        transform: translate(-50%, 0) scale(1) rotate(0deg);
        opacity: 1;
         
    }
    25% {
        transform: translate(-50%, 10px) scale(1.1) rotate(-1deg);
        opacity: 0.8;
        color:#FF004A;
    }
    50% {
        transform: translate(-50%, 18px) scale(1.2) rotate(0deg);
        opacity: 1;
        
    }
    75% {
        transform: translate(-50%, 10px) scale(1.1) rotate(1deg);
        opacity: 0.8;
    }
    100% {
        transform: translate(-50%, 0px) scale(1) rotate(0deg);
        opacity: 1;
    }
}
       .bg4_4 {
         position: absolute;
         width: 200px;
         height: 150px;
         top: 20px;
         left: 50%;
         image-rendering: pixelated;
         background: url('./sun.png');
         background-size: 100% 100%;
         transform: translate(-50%, 0);
         animation: 80s sun infinite linear;
       }
 .bg5_5 {
         position: absolute;
         width: 300px;
         height: 280px;
         bottom: 0px;
         left: 50%;
         image-rendering: pixelated;
         background: url('./mountain1.png');
         background-size: 100% 100%;
         transform: translate(-50%, 0);
         animation: 170s mountain infinite linear;
       }
        .bg5_6 {
   position: absolute;
   width: 300px;
   height: 280px;
   bottom: 0px; 
   left: 50%;
   image-rendering: pixelated;
   background: url('./mountain2.png');
   background-size: 100% 100%;
   transform: translate(-50%, 0);
   animation: 170s mountain infinite linear;
 }
         .bg5_7 {
          position: absolute;
          width: 300px;
          height: 280px;
          bottom: 0px;
          left: 140%;
          image-rendering: pixelated;
          background: url('./mountain1.png');
          background-size: 100% 100%;
          transform: translate(-50%, 0);
          animation: 170s mountain infinite linear;
          animation-delay: -1s;
        }
        @keyframes clouds{
          0%{
            transform : translate(-90px,0);
          }
          
          100%{
            transform : translate(200vw ,0);
          }
        }
   @keyframes mountain {
          0% {
            transform: translate(-100vw, 0);
          }

          100% {
            transform: translate(200vw, 0);
          }
        }
        @keyframes sun {
          0%{
            transform : translate(-100vw,0);
          }
          100%{
            transform : translate(50vw,0);
          }
        }
        #startbtn{
        	position: relative;
          width:40%; height:8px; padding:5px 5px;
          background:#323232;
          text-align :center;
          margin-top:2px;
          justify-content: center;
          color:#FFFFFF;font-size: 10px;
        }
        .menubutton{
        }
#continuebtn{
position: relative;
          width:10px; height:8px; padding:5px 20%;
          background:#323232;
          text-align :center;
          margin-top:2px;
          justify-content: center;
          color:#FFFFFF;font-size: 10px;
        }
#settingsbtns{
	position: relative;
          padding:5px 5px;
          background:#323232;
          color:#FFFFFF;font-size: 10px;
        }
#loadbtn{
	position: relative;
          width:40%; height:8px; padding:5px 5px;
          background:#323232;
          text-align :center;
          ;
          margin-top:2px;
          justify-content: center;
          color:#FFFFFF;font-size: 10px;
        }
#onlinebtn{
	position: relative;
          width:10px; height:8px; padding:5px 20%;
          background:#323232;
          text-align :center;
          margin-top:2px;
          justify-content: center;
          color:#FFFFFF;font-size: 10px;
          display:none;
        }
 .bg0_0, .bg2_2 {
    mix-blend-mode: lighten; 
}
    </style>
<style>
</style>
<div id="MainMenu"> 
<div id="scene" style="width:100%; height:100%;z-index: 0;">
</div>
	<div id="menu-bg-video"
     style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; overflow:hidden; background:black;">
</div>
  <obb class="bg3_3"></obb>
  <pre id="splashText">Hello World!</pre>
  <div id="startscreen" style="position: absolute; top:40%; left:50%; width:80%; transform: translate(-21%,0);">
   <div id="continuebtn" style="display: none;" onclick=" document.getElementById('MainMenu').style.display = 'none'; document.getElementById('loadingMenu').style.display = 'none'; document.getElementById('advanced').style.display='block'; closeInventory()">
    continue? 
  </div>
  <div id="startbtn" class="menubutton" onclick=" document.getElementById('gamescontainer').style.display='block' ;  updateStorageBars() " data-lang="startmenu">
    start   
  </div> 
  <div id="loadbtn" class="menubutton" onclick=" loadPFD() " data-lang="load">
       load pfd file
   </div>
     <div id="onlinebtn" class="menubutton" onclick="document.getElementById('online').style.display='block'; " data-lang="multiplayer">
  	multiplayer 
  </div>
<input style="display:none;" type="file" id="fileInput" onchange="loadData22(event)" />
  </div>
    <div id="gamescontainer" style="display:none;  position: absolute; top:50%; left:50%; transform: translate(-50%,-50%); width: 75%; height: 80%; background: grey; border:3px solid rgb(50,50,50) ;  overflow: hidden;  ">
    <div style="padding: 10px 50%; background: rgb(50,50,50); color:white;  " ><sds data-lang="start" > Play</sds> <fds onclick=" document.getElementById('gamescontainer').style.display='none' ;  " style="color: red; position: absolute ; right:20px; top:5px" >X</fds></div>
    <div id="slotgames" style="white-space: pre-wrap; color:white; margin: 5px; height: calc(100% - 90px) ; overflow: hidden scroll;  width :100% ;">
    </div>
    
    
<div style="position:absolute; bottom:15px; left:0; width:100%; display:flex; gap:10px; background:none; padding:5px 0;">
    <div style="width:200px; height:20px; background:rgb(200,200,200);   overflow:hidden; text-overflow:ellipsis; white-space:nowrap; padding:0 5px;" data-lang="newgame" onclick="playgamenew(); closeInventory()">
        new game/continue
    </div>
    <div style="width:200px; height:20px; background:rgb(200,200,200);  overflow:hidden; text-overflow:ellipsis; white-space:nowrap; padding:0 5px;" data-lang="seedplay" id="seedplay" onclick="playseed()">
        seed
    </div>
</div>
<div style="position:absolute; bottom:0; left:0; width:100%; height:15px; background:#1c1c1c;">
    <div id="localStorageBar" style="height:100%; background:lightblue; width:0; position:absolute; top:0; left:0;"></div>
    <div id="indexedDBBar" style="height:100%; background:#0cc; width:0; position:absolute; top:0; left:0;"></div>
</div>
</div>
    <pre id="gameversion1" style="position:absolute; z-index:9; top:-15px; left:5px; color:black;" > commit </pre>
 <div id="settingscontainer" style="display:none;  position: absolute; top:50% ; left:50%; transform: translate(-50%,-50%); width: 75%; height: 80% ; background: grey; border:3px solid rgb(50,50,50) ; overflow: hidden scroll ; ">
    	<d>
    		<div style="padding: 10px; background: rgb(50,50,50); color:white; text-align: center;" data-lang="settings">Settings</div>
    		<fds onclick="document.getElementById('settingscontainer').style.display='none';" style="color: red; position: absolute; right:20px; top:5px">X</fds>
    	</d>
<t id="addhere"></t>
<span style="color: lightgreen;" data-lang="languageselect">Select Language:</span>
<select id="languageSelect" option="en" value="en" onchange="changeLanguage()">
	<option value="en" selected>English</option>
	<option value="pl">Polski</option>
</select><br>
	<span style="color: lightgreen;" data-lang="tutorial">Tutorial :</span>
	<button onclick="showTutorial()">Show Tutorial</button><br> 
<button class="settingsbtns" onclick=" document.getElementById('skincustomisation').style.display='block' ; startDrawPreview() " data-lang="skin">
custom skin
</button>
<br>
	<button onclick="document.getElementById('packsManager').style.display='block';">Resource packs</button><br> 
    	<button class="settingsbtns" onclick=" document.getElementById('aboutcontainer').style.display='block' ; " data-lang="about">
    		about
    	</button>
    	<button class="settingsbtns" onclick=" toggleDebug() "  >
    		debug mode
    	</button>
    <pre style="white-space: pre-wrap; color:white; margin: 5px; height: 100% width :100% ; overflow: hidden scroll;" data-lang="options">
    </pre>
</div>
<div id="skincustomisation" style="display:none;  position: absolute; top:50%; left:50%; transform: translate(-50%,-50%); width: 75%; height: 80%; background: grey; border:3px solid rgb(50,50,50) ; overflow: hidden scroll ; margin:0px ">
  <div style="padding: 10px; background: rgb(50,50,50); color:white; text-align: center;">Skin Editor</div>
  <fds onclick="document.getElementById('skincustomisation').style.display='none'; stopDrawPreview()" style="color: red; position: absolute; right:20px; top:5px; cursor:pointer;">X</fds>
<div style="display:flex; flex-wrap: wrap; align-items:flex-start; gap:10px;">
    <canvas id="previewCanvas" width="128" height="128" style="background:black; image-rendering: pixelated; width:128px; height:128px;"></canvas>
<div style="display:flex; flex-direction:column; align-items:center; width:128px;">
  <canvas id="colorPickerCanvas" width="128" height="98" style="width:128px; height:98px; border:1px solid white; image-rendering: pixelated;"></canvas>
  <div style="width:128px; height:30px; background:#222; color:white; text-align:center; line-height:30px;" id="huesliderhere"></div>
</div>
    <div style="display:flex; flex-direction:column; gap:1px;">
<button id="editTshirt" class='btnClas' >T-shirt</button>
<button id="editShoes" class='btnClas' >Shoes</button>
<button id="editLeggings" class='btnClas'>Leggings</button>
<button id="editHair" class='btnClas'>Hair</button>
<button id="editSkin" class='btnClas'>Skin</button>
<button id="editEyes" class='btnClas'>Eyes</button>
<button id="editOutline" class='btnClas'>Outline</button>
<button id="resetSkin" class='btnClas'>Reset Default</button>
      <dffd id="specialhueslider"></dffd>
    </div>
  </div>
</div>
<div id="packsManager" style="display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:75%;height:80%;background:grey;border:3px solid rgb(50,50,50);overflow:hidden;margin:0;transform:translate(-50%,-50%)">
  <div style="padding:10px;background:rgb(50,50,50);color:white;text-align:center">Packs Manager</div>
  <fds onclick="document.getElementById('packsManager').style.display='none'" style="color:red;position:absolute;right:20px;top:5px">X</fds>
  <div style="height:calc(100% - 40px);display:flex">
    <div id="activatedPacks" style="width:50%;height:100%;background:#5c5c5c;color:white;display:flex;flex-direction:column">
      <div style="width:100%;background:#8c8c8c;height:20px;color:white;display:flex;justify-content:center;align-items:center">Activated Packs</div>
      <div class="pack-grid" style="flex:1;overflow:auto;padding:5px;"></div>
    </div>
    <div style="width:50%;height:100%;background:#4c4c4c;color:white;display:flex;flex-direction:column;position:relative">
      <div style="width:100%;background:#8a8a8a;height:20px;color:white;display:flex;justify-content:center;align-items:center">Your Packs</div>
      <div id="packsList" class="pack-grid" style="flex:1;overflow:auto;padding:5px;"></div>
      <div style="position:absolute;bottom:0;left:0;width:100%;background:#444;padding:8px;text-align:center">
        <button onclick="document.getElementById('pfpInput').click()" style="padding:6px 12px;background:#6c6c6c;color:white;border:none;">Import .pfp file</button>
        <input type="file" id="pfpInput" accept=".pfp" style="display:none" onchange="importPfp(this.files[0])">
      </div>
    </div>
  </div>
</div>
<div id="popup" style="display:none;position:fixed;top:10%;left:50%;transform:translateX(-50%);background:#222;color:#fff;padding:15px;border-radius:8px;z-index:9999;min-width:200px;text-align:center"></div>
<div id="confirmModal213" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:10000;justify-content:center;align-items:center">
  <div style="background:#333;color:white;padding:20px;border-radius:8px;min-width:250px;text-align:center">
    <div id="confirmMessage">Are you sure?</div>
    <div style="margin-top:15px;display:flex;justify-content:center;gap:10px">
      <button id="confirmYes" style="padding:5px 10px;background:red;color:white;border:none;">Yes</button>
      <button id="confirmNo" style="padding:5px 10px;background:#666;color:white;border:none;">No</button>
    </div>
  </div>
</div>
<div id="online" style="display:none;  position: absolute; top:50%; left:50%; transform: translate(-50%,-50%); width: 75%; height: 80% ; background: grey; border:3px solid rgb(50,50,50) ; overflow: hidden scroll ; ">
    	<d>
    		<div style="padding: 10px; background: rgb(50,50,50); color:white; text-align: center;" data-lang="multiplayer">Multiplayer</div>
    		<fds onclick="document.getElementById('online').style.display='none';" style="color: red; position: absolute; right:20px; top:5px">X</fds>
    	</d>
    	<div style="position: absolute; left:50%; top:50%; transform: translate(-50%,-50%); "> <button style="background:#795A5A; width:60px; height:20px; border: none ; outline: none; margin-left:2px; margin-right: 2px ; color:#fff; " onclick="HostWorld();">Host</button><button style="background:#795A5A; width:60px; height:20px; border: none ; outline: none; margin-left:2px; margin-right: 2px ; color:#fff; " onclick="JoinWorld();">Join</button> </div>
</div>
<style>
	.selected1 {
		border: 1px solid white !important ;
	}
	.btnClas{
		height:15px;
		font-size: 10px;
		border: 1px solid black;
	}
</style>
<div id="aboutcontainer" style="display:none;  position: absolute; top:50% ; left:50%; transform: translate(-50%,-50%); width: 75%; height: 80% ; background: grey; border:3px solid rgb(50,50,50) ; overflow: hidden scroll ; ">
<d>
  <div style="padding: 10px; background: rgb(50,50,50); color:white; text-align: center;" data-lang="about">About</div>
  <fds onclick="document.getElementById('aboutcontainer').style.display='none';" style="color: red; position: absolute; right:20px; top:5px">X</fds>
</d>
    <pre style="white-space: pre-wrap; color:white; margin: 5px; height: 100% width :100% ; overflow: hidden scroll;" data-lang="readme" >
loading about
    </pre>
  </div>
</div>
<div id="loadingMenu" style="display:none; width: 100%; height:100%; background: black; color:white; position:absolute; align-items: center; justify-content: center; font-size: 13px; position: absolute; z-index:999; opacity: 0.8">
this isn't a fake loading screen !
</div>
    <div class="loader" id="loader">
        <img src="./logo.png" alt="Logo" class="logo" id="logo" style="width: 42%; image-rendering: pixelated ;">
    </div>
<style>
#statesBar{
  position: fixed;
  pointer-events: none ;
z-index: 0;
right: 5px;
top: 5px;
}
#statesBar *{
  margin-bottom:1.5px;
}
.health-bar-container {
        width: 100px;
 height: 6px;
 background-color: #2E0000;
opacity: 0.8
      }
.stamina-bar-container {
 width: 100px;
 height: 6px;
 background-color: #2E2A00;
opacity: 0.8
      }
.hunger-bar-container {
width: 100px;
height: 6px;
background-color: #002E09;
opacity: 0.8;
}
.hunger-bar {
  height: 100%;
  background-color: #00C846;
  width: 100%;
}
.thirst-bar-container {
width: 100px;
height: 6px;
background-color: #001F2E;
opacity: 0.8;
}
.lv-bar-container {
	width: 100px;
	height: 6px;
	background-color: #051817;
	opacity: 0.8;
}
.thirst-bar {
  height: 100%;
  background-color: #007DC8;
  width: 100%;
}
.lv-bar {
	height: 100%;
	background-color: #14B5C7;
	width: 100%;
}
#Vhungerbar, #Vthirstbar {
    transition: opacity 0.2s ease; 
    pointer-events: none ;
    opacity: 1;
}
#VlvBar {
	   position: relative;
    transition: opacity 0.2s ease; 
    pointer-events: none ;
    opacity: 1;
}
#lvtext{
	position: absolute; top:-1px;
	left:50%; transform: translateX(-50%);
	font-family: 'pffont' ; color:white;
font-size:50% !important;  opacity:0.8
}
.hidden1 {
    opacity: 0.3 !important;
}
.hidden2 {
	opacity: 0.2 !important;
}
      .health-bar {
        height: 100%;
        background-color: #EF0000;
        width: 100%;
      }
.stamina-bar {
        height: 100%;
        background-color: #FFDD07;
        width: 100%;
      }
    </style>
 
<div  id="statesBar" >
    <div class="health-bar-container">
      <div id="healthBar" class="health-bar"></div>
    </div>
    <div class="stamina-bar-container">
      <div id="staminaBar" class="stamina-bar"></div>
    </div>
    <div class="hunger-bar-container" id="Vhungerbar">
      <div id="hungerBar" class="hunger-bar"></div>
    </div>
    <div class="thirst-bar-container" id="Vthirstbar">
   	<div id="thirstBar" class="thirst-bar"></div>
   </div>
    <div class="lv-bar-container" id="VlvBar">
    	<div id="lvBar" class="lv-bar"></div>
    	<t id=lvtext>lv:0</t>
    </div>
</div>
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#000000">

    <title> primoria ferox </title>
    <style>
    html{
      position:fixed; width:100%; height:100%;
    }
 
        body {
            margin: 0;
            overflow: hidden;
            background:#000000;
        }
        #gameCanvas {
            display: block;
            position: absolute;
            top:50%;
            left:50%;
            width:calc(auto + 150px);
            height:calc(100% + 50px);
           transform: translate(-50%,-50%) scale(110%,100%);
            background-color: #87CEEB00; 
            image-rendering: pixelated; 
            z-index: -1;
        }
        .controls {
            position: absolute;
            bottom: 12vh;
            width: 80px;
            height: 80px;
            background: url('./joystick.png') ;
            background-size: 100%;
            opacity:0.5;
            image-rendering: pixelated;
            font-family: Arial, Helvetica, sans-serif;
            border-radius: 20%;
            display: flex;
            justify-content: center;
            align-items: center;
            
        }
@media (min-width: 1024px) {
  .controls {
    display: none;
  }
}

        .thumb {
            width: 70px; margin: -45px;
            height: 70px;
            background: url('./thumb.png') ;
            background-size: 100%;
            opacity:1;
            filter: hue-rotate(40deg) , brightness(0.5);
            border-radius: 15%;
            position: absolute;
            pointer-events: none; 
            image-rendering: pixelated;
            font-family: Arial, Helvetica, sans-serif;
        }
        .inventory {
            position: absolute;
            right: 10px;
            top: 10px;
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
<div style="position: absolute; top:0; left:0; z-index: 9999999999999999999999999999999999999999; background: black; color: white;" id="ggsvbdnfnnfnnxkrgjgmvmfjrhf">
</div>
<!-- Game Screen - Ekran Gry -->
<canvas id="gameCanvas" width="420" height="350"></canvas>
    <style>
        #controller {
          position: absolute; bottom:20px ; left:20px ; 
            display: grid;
            grid-template-columns: repeat(3, 20px);
            grid-template-rows: repeat(3, 20px);
            gap: 3px;
        }
        .button {
            width: 20px;
            height: 20px;
            background-color: #19191959;
            color: #00DEFF8F;
            border: none;
            font-size: 10px;
            cursor: pointer;
        }
        .button:active {
            background-color: #0056b3;
        }
    </style>
<div id="controller" style="display:none;">
    <button class="button" data-direction="up-left">1</button>
    <button class="button" data-direction="up">2</button>
    <button class="button" data-direction="up-right">3</button>
    <button class="button" data-direction="left">4</button>
    <button class="button" data-direction="empty">5</button>
    <button class="button" data-direction="right">6</button>
    <button class="button" data-direction="down-left">7</button>
    <button class="button" data-direction="down">8</button>
    <button class="button" data-direction="down-right">9</button>
</div>
<div class="controls" id="joystick" style="display:block;">
    <div class="thumb" id="thumb" style="display: none;"></div>
</div>
<div class="inventory">
</div>
<div onclick="openInventory()" id="Q1EQ" style="position: absolute; bottom: 12vh; right:5px; width:11px; height:11px; background: rgba(181, 181, 181, 0.20) ; background: url('./EQ.png') ;
background-size: 100%;
opacity:0.5;  color: rgba(0, 200, 255, 1); padding: 30px;image-rendering: pixelated; font-size: 15px;
font-family: Arial, Helvetica, sans-serif;"></div>
    <style>
.inventory-container {
    position: absolute;
    font-family:  "pffont";
    color: white;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 7px;
    visibility: hidden; /* Ukryty domyślnie */
    box-sizing: border-box;
}
.close-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #333;
    border: none;
    color: #00ff00;
    padding: 5px 10px;
    cursor: pointer;
}
#slotsContainer {
     height: 90px;
     overflow: hidden scroll;
}
#slotsContainer2 {
  position: fixed;
  top: 0;
  left: 0;
  width: 44vw;
  height: 52px;
  overflow-x: auto;
  overflow-y: hidden;
  font-style: "pffont" ;
}
#slotsContainer2::-webkit-scrollbar {
    width: 5px; 
    background-color: rgba(0, 0, 0, 0.09); 
    height:5px;
}
#slotsContainer2::-webkit-scrollbar-track {
  background-color: #00000000; 
}
#slotsContainer2::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.08); 
}
.a2slots {
  display: flex;
  gap: 4px;
  width:40px; height:40px;
  padding: 2px;
  color : white;
  
}
.slots {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
    gap: 10px;
    margin-top: 20px;
    height: 85px;
    width: 100%; /* Gwarantuje dopasowanie do szerokości */
    box-sizing: border-box;
}
.slots2 {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
    gap: 10px;
    margin-top: 20px;
    height: 85px;
    width: 100%; /* Gwarantuje dopasowanie do szerokości */
    box-sizing: border-box;
}
.chestslot {
  display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    aspect-ratio: 1/1; /* Gwarantuje, że sloty są kwadratowe */
    background-color: #0C0C0C;
    border: 1px solid #454545;
    justify-content: center;
    font-size: 13px;
    border-radius: 5px;
 
}
.chestslot img {
  width: 70%;
  image-rendering: pixelated;
  height: auto;
}
.chestslot-name {
  margin-top: 3px;
  font-size: 10px;
  color: white;
  max-width: 100%;
  word-wrap: break-word;
}
.slot {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    aspect-ratio: 1/1; /* Gwarantuje, że sloty są kwadratowe */
    background-color: #0C0C0C;
    border: 1px solid #454545;
    justify-content: center;
    font-size: 13px;
    border-radius: 5px;
}
.slot img {
    max-width: 70%;
    max-height: 70%;
}
.slot-name {
    margin-top: 5px;
    font-size: 50%;
    text-align: center;
}
.crafting-recipes {
     display: flex;
    flex-direction: column;
    font-size: 10px;
    margin-bottom: 0px;
    width: calc(100% - 70px );
    max-height: calc(100% - 95px);
    overflow-y: auto; /* W przypadku dużej liczby receptur, pojawi się przewijanie */  
}

.recipe {
    background-color: #2C2828;
    padding: 5px;
    margin-bottom: 5px;
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    flex-direction: row;
    display: flex;
flex-wrap: wrap;
}

.recipe:hover {
    background-color: #444;
}

.recipe img {
    width: 25px;
    image-rendering: pixelated;
    vertical-align: middle;
}

.recipe-name {
    margin-top: 5px;
    font-size: 10px;
    text-align: center;
}
.itemImg{
width: 26px;
background-size: 60%;
image-rendering:pixelated;
}
.hover:hover{
  color:#3DFF00
}
#advanced{
  position: fixed;
  
  z-index: 99999;
  width:100%;
  height:100%;
  background: rgba(22, 19, 19, 0.72);
  display: none;
  flex-direction: column;
justify-content: center;
align-items: center;
overflow: hidden ;
overflow-y: scroll ;
}
#advanced button {
  color: #000000;
  width:50%;
  background: #505050;
  outline: none;
  border:none;
  padding: 2px;
  margin-top: 5px;
}#advanced textarea {
  color: #000000;
  background: #505050;
  outline: none;
  width:50%;
  
}
.hover{
    font-size: 12.5px;
}
.cheatButton1{
  background-color:#959595;
}
</style>
<style>
#allachievements{ display:none; height :100vh; overflow: hidden scroll; } #achievement{ display:none; }
#helpmenu{ display:none; height :100vh; overflow: hidden scroll; } #help{ display:none; }
@keyframes easeUp{0%{ top:-50px; }100%{} }
@keyframes easeUp2 {0% {}100% { top: -50px; } }
</style>
<div id="slotsContainer2">
        <div class="a2slots" id="a2slots">
        </div>
</div>
      <div data-var="shoot" id="shootbtn2" onclick="toggleAndStyleButton(this);" style="position:absolute; top:5px; left:0 ;z-index: 9; background:#666666; display:none;font-size: 10px; " >  shoot anabled ? </div> 
      <div data-var="quickbuttonselected" id="quickbtn" onclick="toggleAndStyleButton(this);" style="position:absolute; top:5px; left:5px ;z-index: 9; background:#666666; display:none;font-size: 10px; padding:1px 2px; "   >  none </div> 
      <div id="quickbtn2" onclick='dropAll=!dropAll; if(dropAll){ document.getElementById("quickbtn2").style.background="green" }else {document.getElementById("quickbtn2").style.background="red" } 'style="position:absolute; top:5px; left:55px ;z-index: 9; background:#666666; display:none;font-size: 10px; padding:1px 2px; " >  dropAll </div> 
    <div class="inventory-container" style="overflow: scroll; height:100%;"  id="inventory">
      <input   style="position:absolute; top:40px; right:0 ; width:50px; background:#666666;z-index: 999; border:none; outline: none; font-size: 8px;" class="hover" placeholder="save name " id="savename" ></input>
      <div onclick="saveGameState(document.getElementById('savename').value || '' );" style="position:absolute; top:60px; right:0 ; background:#666666;z-index: 999; font-size: 10px;" class="hover">save game</div>
      <div data-var="shoot" id="shootbtn" onclick="toggleAndStyleButton(this);" style="position:absolute; top:5px; left:0 ;z-index: 999; background:#666666; display:none;font-size: 10px; " >  shoot anabled ? </div> 
      <div onclick="loadGameState(document.getElementById('savename').value || '');"  style="position:absolute; top:90px; right:0 ;z-index: 999; background:#666666;"class="hover">load game</div>
<div onclick="toggleAllRecipes()"  style="position:absolute; top:120px; right:0 ; z-index: 999; background:#666666;"class="hover">Show all</div>
<div onclick="showsaves();" style="position:absolute; top:140px; right:0 ; background:#666666;z-index: 999; " class="hover">save names</div>
<div onclick="toggleadvanced()"  style="position:absolute; top:160px; right:0 ; z-index: 999; background:#666666;"class="hover"> settings</div>
        <button class="close-button" onclick="closeInventory()">Close</button>
        <div class="crafting-recipes" id="crafting">
            <!-- Crafting recipes will be displayed here -->
        </div>
<div id="slotsContainer">
        <div class="slots" id="slots">
        </div>
</div>
    </div>
<div id="advanced" style="display:none; height:100©; overflow: hidden scroll;">
  <ffd style=" width :100%; height:99%; overflow: hidden scroll ; ">
  <button   id="cheatButton" onclick="openCheatModal();" >Activate Cheats</button> <br>
  
    <div onclick="toggleAdvanced()" style="position:absolute; top:160px; right:10px; z-index:999; background:#666; color:white; padding:5px; cursor:pointer;">
        Close
    </div>
    <button data-var="autoclose" onclick="toggleAndStyleButton(this);">Auto Close</button> <br>
    <button data-var="creativemode" onclick="toggleAndStyleButton(this);" class="cheatButton1">Creative mode</button> <br>
    <button data-var="nightvision" onclick="toggleAndStyleButton(this);" class="cheatButton1">Night Vision</button> <br>
    <button data-var="noclip" onclick="toggleAndStyleButton(this);" class="cheatButton1">Noclip modr</button> <br> <button data-var="editblocks" onclick="toggleAndStyleButton(this);">Edit Blocks ( example click chest to put items )</button><br>
    <button data-var="dropany" onclick="toggleAndStyleButton(this);">Drop any item (fishing rod)</button> <br>
    <button data-var="dontbreakfloor" onclick="toggleAndStyleButton(this);">Dont break floors</button>
    <button data-var="autopause" onclick="toggleAndStyleButton(this);">auto pause</button>
    <button data-var="lightplusplus" onclick="toggleAndStyleButton(this);">light + + </button>
    <button data-var="showuiinventory" onclick="toggleAndStyleButton(this);">showuiinventory</button>
    <button data-var="fancygraphic" onclick="toggleAndStyleButton(this);">fancygraphic</button>
    <button data-var="fancynight" onclick="toggleAndStyleButton(this);">Fancy night</button>
    <button data-var="quickinventory" onclick="toggleAndStyleButton(this); updateInventory()">quickinventory</button>
    <button data-var="fightmode" onclick="toggleAndStyleButton(this);">fightmode prevent destroying blocks </button>
    <button data-var="zoomout" onclick="toggleAndStyleButton(this);">zoom out</button>
<button data-var="biggerzoomout" onclick="toggleAndStyleButton(this);">bigger zoom out</button> <button data-var="hyperzomout" onclick="toggleAndStyleButton(this);">hyper zoom out</button>
    <button data-var="invertControls" onclick="toggleAndStyleButton(this);">invertControls</button>
    <button data-var="invertBars" onclick="toggleAndStyleButton(this);">invert status bars</button>
    <button data-var="hideBlocksnumber" onclick="toggleAndStyleButton(this);">hideBlocksnumber</button>
    <button data-var="oldlight" onclick="toggleAndStyleButton(this);">oldlight</button> <br>
<button onclick="openAchievmentsMenu()">your achievements</button>
    <button data-var="Fskipping" onclick="toggleAndStyleButton(this);">frames skipping</button>
    <br>
    <button data-var="showleafes" onclick="toggleAndStyleButton(this);">Show reflection/leafes etc better visuals</button>
    <button data-var="noleafes" onclick="toggleAndStyleButton(this);">No leafes </button>
    <button onclick="exportData2();">export world as pfdata  </button>
    <button data-var="autopause" onclick="customAlert(seed)">get seed ( info older version doesnt use seeds but use math.random() ) </button>
    <br><br>
<label for="renderMode" style="color:white;">Screen Mode:</label>
<select id="renderMode" name="renderMode">
  <option value="0" data-renderer="classicOLD">Standard X1</option>
  <option value="1" data-renderer="canvasX8">Classic X0</option> 
  <option value="2" data-renderer="HHGHcanvas">HHGH Canvas</option>
  <option value="3" data-renderer="canvas">XL screen</option>
  <option value="4" data-renderer="canvas">Slim Tiny x05</option>
  <option value="5" data-renderer="canvas">Fucd up</option>
  <option value="6" data-renderer="canvas">Full 9FX</option>
  <option value="8" data-renderer="canvas">Standard Canvas</option>
  <option value="9" data-renderer="canvas">Hlf 8FX</option>
  <option value="10" data-renderer="canvas">Hlf 7FX</option>
  <option value="11" data-renderer="canvas">Hlf2 6FX</option>
  <option value="12" data-renderer="canvas"> Classic Size</option>
</select> <br>
 <label for="QuickButton" style="color:white;">Quick Button:</label>
 <select id="QuickButton" name="QuickButton">
 	<option value="0" data-renderer=" ">none</option>
 	<option value="1" data-renderer=" ">Fightmode btn</option>
 	<option value="2" data-renderer=" ">Drop any item btn</option>
 	<option value="3" data-renderer=" ">UseAndFight btn</option>
 </select> <br>
    <button data-var="showfps" onclick="toggleAndStyleButton(this);">showfps</button>
<br>
<button onclick="randomizeCloudsAnimation(); document.getElementById('loadingMenu').style.display = 'none'; document.getElementById('MainMenu').style.display = 'block'; cancontinue=1; document.getElementById('continuebtn').style.display='none'; document.getElementById('advanced').style.display='none'; document.getElementById('gamescontainer').style.display='none';  paused=1 ; document.getElementById('inventory').style.visibility = 'hidden';
document.getElementById('inventory').style.pointerEvents = 'none';  document.getElementById('seedplay').style.display='none'; updateStorageBars()  ">backtomenu</button>
</ffd>
</div>
<!-- Cheat Modal -->
<div id="cheatModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeCheatModal()">&times;</span>
        <h2>Are you sure to activate cheats in your save ?</h2>
        <p>Rewrite this code to confirm:</p>
        <p id="cheatCode" style="font-weight: bold; color: #fff;"></p>
        <input type="text" id="cheatInput" placeholder="Enter code here">
        <button onclick="verifyCheatCode()">Confirm</button>
    </div>
</div>
<div id="saveNamesModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeSaveNamesModal()">&times;</span>
        <h2>Save Names</h2>
        <p id="saveNamesList"></p>
    </div>
</div>
<style>
.modal {
    display: none;
    position: fixed;
    z-index: 99999999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
}
.modal-content {
    background-color: #fefefe;
    padding: 20px;
    border: 1px solid #888;
    width: 300px;
    border-radius: 8px;
    text-align: center;
}
.close {
    color: #aaa;
    float: right;
    font-size: 24px;
    cursor: pointer;
}
.close:hover {
    color: #000;
}
</style>
</div>
    <div id="checkModal">
    <div class="modal-content">
        <p id="modalMessage">Are you sure you want to continue?</p>
        <button class="cancel" id="cancelBtn">Cancel</button>
        <button id="confirmBtn">Confirm</button>
    </div>
    </div>
        <div id="checkModal2">
        <div class="modal-content">
            <p id="modalMessage2">type something .</p>
            <input type="text" id="input2" maxlength="25">
            <button id="confirmBtn2">Confirm</button>
         </div>
        </div>
<style> 
#checkModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); 
    z-index: 999999;
    justify-content: center;
    align-items: center;
    color: white;
    font-family: Arial, sans-serif;
    font-size: 18px;
}
#checkModal2 {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 999999;
    justify-content: center;
    align-items: center;
    color: white;
    font-family: Arial, sans-serif;
    font-size: 18px;
}
 .modal-content {
    background-color: #333;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
}

#checkModal button {
    background-color: #f44336; 
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    margin: 10px;
}
#checkModal2 button {
    background-color: #f44336; 
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    margin: 10px;
}
#checkModal button.cancel {
    background-color: #9e9e9e; 
}
</style>
<div id="fpsCounter" style="position: fixed; bottom: 10px; right: 10px; color: white; background: rgba(0, 0, 0, 0.5); padding: 5px; font-family: Arial, sans-serif; font-size: 8px;">
  FPS: 0
</div>
<div id="confirmationModal" style="display:none; position:fixed; top:0; left:0; width:calc(100%); height:100%; background:rgba(0,0,0,0.6); z-index:9999; font-family: 'pffont';">
  <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:#1c1c1c; padding:30px 40px; border-radius:12px; border:1px solid #444; color:#fff; min-width:300px; box-shadow:0 0 20px rgba(0,0,0,0.5);">
    <h3 style="margin-top:0; margin-bottom:15px; font-size:1.3em; text-align:center;">Please confirm the code:</h3>
    <p style="margin-bottom:20px; text-align:center;">Code: <span id="confirmationCode" style="font-weight:bold; font-size:1.2em;"></span></p>
    <input id="confirmationInput" type="text" placeholder="Enter the code here" style="width:100%; padding:8px; margin-bottom:20px; border-radius:6px; border:1px solid #555; background:#2b2b2b; color:#fff;">
    <div style="text-align:center;">
      <button id="confirmCodeButton" style="padding:8px 18px; margin-right:10px; border:none; border-radius:6px; background:#4caf50; color:white;  ">Confirm</button>
      <button id="cancelCodeButton" style="padding:8px 18px; border:none; border-radius:6px; background:#f44336; color:white;  ">Cancel</button>
    </div>
  </div>
</div>

<div id="achievement" style="position: fixed; z-index:9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999; width:90%; height:30px; background:  rgb(20,20,20); top:0; left:50%;transform: translate(-50%,0);">  
<pre id="achievementTEXT" style="margin-left:35px; margin-top: 0; position : absolute; color:white; width: calc(100% - 30px); white-space: pre-wrap; "></pre>
<div style="width:30px; height:100%; background: rgb(50,50,50); background-size:100% 100%; image-rendering: pixelated;"><div style="width:30px; height:100%; background-image: url('./diamond.gif'); background-size:100% 100%; image-rendering: pixelated;" id="achievementimg"></div></div>
</div>
<div id="allachievements" style="position: absolute; z-index:9999999999999999999999999999; width:100%; height:100vh; background:  rgb(5,10,10); top:0; left:50%;transform: translate(-50%,0);   ">
    <div onclick="document.getElementById('allachievements').style.display='none' " style="position: absolute; width:9px; height:9px; background:  rgb(100,10,10); top:5px; right:5px; padding :6px; color:white;">x</div>
    <div id="allachievements2"></div>
</div>
 <div id="helpmenu" style="position: absolute; z-index:9999999999999999999999999999; width:100%; height:100%; background:  rgb(5,10,10); top:0; left:0;    ">
	<div onclick="document.getElementById('helpmenu').style.display='none' " style="position: absolute; width:9px; height:9px; background:  rgb(100,10,10); top:5px; right:5px; padding :6px; color:white;">x</div>
	<div id="helpmenu2"></div>
	<div id="detailView" style="display:none;">
	<pre id="detailText" style="color:white; white-space: pre-wrap; width: calc(100% - 30px);"></pre>
	<div onclick="showTutorial()" style="position: absolute; width:9px; height:9px; background:  rgb(100,10,10); top:35px; right:5px; padding :6px; color:white;"><</div>
</div>
</div>
 </div>
</body>
</html>
<div id="profiler" style="position:absolute;top:0;left:0;width:250px;height:200px;background:rgba(0,0,0,0.85);color:#0f0;font:12px monospace;z-index:9999;overflow:hidden;display:none;user-select:text !important;">
  <div id="profiler-header" style="padding:4px;background:#111;color:#0f0;text-align:center;cursor:grab;">Profiler</div>
  <div id="profiler-content" style="overflow-y:auto;height:calc(100% - 24px);"></div>
  <div id="profiler-resize" style="position:absolute;bottom:0;right:0;width:20px;height:20px;background:#0f0;touch-action:none;cursor:se-resize;"></div>
</div>
  <script src="./javanative.js"></script>
  <script src="./jszip.min.js"></script>
  <script src="./rsrc-raw.js"></script>
  <script src="./game.js"></script>
<style>
 @font-face {
 font-family: 'pffont';
 src: url('pf.ttf') format('truetype');
}

* {
 font-family: 'pffont';
 letter-spacing: 1px;
}
canvas {
  letter-spacing: normal !important;
}

</style>